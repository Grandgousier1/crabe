<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Delivery Note Transformer</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <header class="hero">
        <h1>Delivery Note Transformer</h1>
        <p>G√©n√©rez un PDF harmonis√© √† partir de vos bons de livraison scann√©s.</p>
      </header>

      <section class="panel" id="delivery-app">
        <div class="panel__section">
          <div class="dropzone" id="dropzone">
            <input
              type="file"
              id="file-input"
              accept=".png,.jpg,.jpeg,.pdf"
              multiple
              hidden
            />
            <div class="dropzone__icon">üìÑ</div>
            <p class="dropzone__title">Glissez-d√©posez vos scans ici</p>
            <p class="dropzone__subtitle">ou</p>
            <button type="button" class="button" id="select-files">Choisir des fichiers</button>
            <p class="dropzone__hint">Formats pris en charge : PNG, JPG, PDF scann√©.</p>
          </div>
          <ul id="file-list" class="file-list"></ul>
        </div>

        <div class="panel__section panel__section--progress">
          <h2>Progression</h2>
          <div class="progress__item">
            <div class="progress__label">
              <span>T√©l√©versement</span>
              <span id="upload-label">0%</span>
            </div>
            <progress id="upload-progress" max="100" value="0"></progress>
          </div>
          <div class="progress__item">
            <div class="progress__label">
              <span>Traitement</span>
              <span id="process-label">0%</span>
            </div>
            <progress id="process-progress" max="100" value="0"></progress>
          </div>
        </div>

        <div class="panel__section panel__section--actions">
          <button type="button" class="button button--primary" id="generate-btn">
            G√©n√©rer le PDF
          </button>
          <button type="button" class="button button--ghost" id="clear-btn">
            R√©initialiser
          </button>
        </div>

        <div class="panel__section panel__section--console">
          <div class="console__header">
            <span>Console</span>
            <button type="button" class="button button--minimal" id="console-clear">
              Effacer
            </button>
          </div>
          <pre id="console-log" class="console__body"></pre>
        </div>

        <p id="status" class="status" role="status"></p>
      </section>

      <footer class="app__footer">
        <small>
          D√©ployez <code>web/</code> sur Netlify et pointez l'API vers votre instance Render.
          La cl√© <code>GEMINI_API_KEY</code> reste stock√©e c√¥t√© serveur.
        </small>
      </footer>
    </main>

    <script src="config.js"></script>
    <script src="main.js" type="module"></script>
  </body>
</html>
